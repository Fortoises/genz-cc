WhatsApp Bot “Babu Manager” (Node.js + SQLite + Telegram Backup)

> Buatkan bot WhatsApp berbasis Node.js yang berfungsi untuk mengelola daftar komunitas yang telah dikalahkan (disebut “Babu”) oleh komunitas saya.




---

🎯 Tujuan Utama

Menyimpan dan mengelola ribuan nama komunitas “Babu” secara efisien.

Menggunakan SQLite sebagai database lokal.

Backup otomatis ke Telegram setiap ada perubahan.

Dapat dikontrol oleh admin grup, owner, atau nomor dengan akses.

Command prefix bisa dikustom (default .)



---

💻 Teknologi Wajib

Bahasa: Node.js

WhatsApp Bot: whatsapp-web.js atau Baileys

Database: better-sqlite3

Telegram API: node-telegram-bot-api

Fuzzy Search: fuse.js

Prefix command dikontrol dari file .env


Contoh .env:

PREFIX=.
TELEGRAM_BOT_TOKEN=...
TELEGRAM_CHAT_ID=...


---

🛡️ Autentikasi & Akses

Bot hanya menerima perintah dari:

Admin grup

Owner

Nomor yang diberi akses via .addakses


Login bot menggunakan sistem pairing code (QR code dari WhatsApp Web)



---

🗃️ Struktur Database SQLite

CREATE TABLE babu (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL UNIQUE,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE akses (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  phone_number TEXT NOT NULL UNIQUE,
  granted_by TEXT,
  granted_at DATETIME DEFAULT CURRENT_TIMESTAMP
);


---

📚 Command dan Fungsinya

1. [prefix]addbabu [nama komunitas]

Simpan nama ke database

Tampilkan ulang daftar 10 komunitas terbaru

Kirim file .txt ke Telegram sebagai backup

Pin daftar ke grup



2. [prefix]deletebabu [nama komunitas]

Hapus nama dari database

Tampilkan ulang daftar 10 terbaru

Kirim backup ke Telegram



3. [prefix]listbabu

Menampilkan seluruh isi nama nama babu

Format:

List Babu
total:

1.babu 1
2.babu 2
3.dst


4. [prefix]searchbabu [kata_kunci]

Cari komunitas dengan fuzzy search

Contoh input: 7sins → hasil: 7SINS

Jika tidak ditemukan → kirim pesan: "Komunitas tidak ditemukan."



5. [prefix]addakses [nomor whatsapp]

Tambahkan nomor ke whitelist pengguna

Nomor ini bisa akses fitur .addbabu dll



6. [prefix]addtxt (upload file .txt)

Parsing isi file, contoh format:

1. Komunitas A
2. Komunitas B
3. 7SINS

Hilangkan angka urutan di awal (jangan hilangkan angka dalam nama)

Simpan semua nama ke SQLite

Kirim backup ke Telegram





---

☁️ Backup Otomatis ke Telegram

Setiap ada perubahan dari .addbabu, .deletebabu, atau .addtxt

Bot akan kirim file .txt ke Telegram dengan format:

List Babu
Total: 87
1. Komunitas A
2. Komunitas B
...

Gunakan node-telegram-bot-api

Gunakan TELEGRAM_CHAT_ID di .env


---

Fitur detail

Saat user dm bot, user hanya bisa melakukan command .listbabu dan .menu selain itu harus di lakukan di dalam grub

Lalu untuk .menu menampilkan seluruh isi command command bot dan jelaskan fungsi fungsi command nya


---

🔁 Contoh Alur

1. Admin grup kirim:

.addbabu GENG TANGGUH


2. Bot:

Simpan ke SQLite

Tampilkan:

List Babu
Total: 24
1. KOMUNITAS A
2. GENG TANGGUH

Pin pesan

Kirim backup .txt ke Telegram





---

📌 Fitur Tambahan

Prefix command bisa diubah di file .env (PREFIX=!)

Data persist dan efisien untuk 1000+ komunitas

Tidak izinkan duplikat nama

Pagination berbasis limit & offset SQL

Bot tetap stabil saat restart

Gunakan ID atau page number untuk kontrol navigasi

